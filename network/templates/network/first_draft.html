
{% load static %}

{% block body %}

<main class="row justify-content-center pt-5">
    <div class="col-md-6 mt-4">

        {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error_message }}
            </div>
        {% endif %}

        <div id="public-view"></div>

        <div id="profile-view">
            <div id="profile-stats">
                <!-- Profile statistics generated by index.js through a JSON fetch -->
            </div>
            {% if user.is_authenticated %}
                <div id="toggle-follow">
                    <!-- Follow and unfollow HTML generated by index.js through a JSON fetch -->
                </div>
            {% endif %}
        </div>

        <div id="following-view">
            <h2>Recent posts from people you follow</h2>
        </div>

        {% if user.is_authenticated %}
            <form id="tweet-view">
                <div class="form-group">
                    <label for="tweet-textarea" class="form-label">New Post</label>
                    <textarea type="text" maxlength="280" minlength="1" rows="4" class="form-control needs-validation" id="tweet-textarea" novalidate required></textarea>
                    <button class="btn btn-primary" id="tweet-button" type="submit">Chirp</button>
                    <div class="invalid-feedback">
                        Tweet must be between 1 and 280 characters.
                    </div>
                </div>
            </form>
        {% endif %}
        
        <!-- List items/posts generated by index.js through a JSON fetch -->
        <ul class="list-group list-group-flush" id="posts"></ul>

        </div>
    </main>

{% endblock %}

{% block script %}
    <script src="{% static 'network/index.js' %}"></script>
{% endblock %}